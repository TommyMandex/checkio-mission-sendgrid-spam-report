<body data-author="oduvan">
<div class="question-answer">
    <div class="question">
        Help me to start.
    </div>
    <div class="answer">
        You should use <a href="https://py.checkio.org/projects/open/sendgrid/hint-statistics-spam/">/suppression/spam_reports</a> in order to get list of all spam reports in a specific period.
    </div>
</div>
<div class="question-answer">
    <div class="question">
        How can I do it in Python?
    </div>
    <div class="answer">
<pre class="brush: python">
response = sg.client.suppression.spam_reports.get(query_params={
    'end_time': 1399496426,
    'start_time': 1399514567
})
</pre>
    </div>
</div>

<div class="question-answer">
    <div class="question">
        What is the start_time and the end_time here? How can I get this number out of the date?
    </div>
    <div class="answer">
        This number is a timestamp. DateTime module can easily convert the date string into a timestamp.
    </div>
</div>

<div class="question-answer">
    <div class="question">
        Can you show me the code?
    </div>
    <div class="answer">
<pre class="brush: python">
end_time = datetime.strptime(str_date, '%Y-%m-%d')
start_time = end_time + timedelta(days=1)
response = sg.client.suppression.spam_reports.get(query_params={
    'end_time':int(end_time.timestamp()),
    'start_time': int(start_time.timestamp())
})
</pre>
    </div>
</div>

<div class="question-answer">
    <div class="question">
        Is that it?
    </div>
    <div class="answer">
        <p>Almoust... You need to return the size.</p>
        <pre class="brush: python">
import json

data = json.loads(response.body)
return len(data)
        </pre>
    </div>
</div>


</body>
